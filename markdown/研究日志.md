#### 20251002 研究日志

主题：确定乒乓球比赛势能量化研究方向，搭建简易计算模型

内容：今日核心工作围绕 “乒乓球比赛势能量化” 展开，明确了研究问题（量化比赛中球员的实时控制能力及势能变化规律）与核心终点（构建可迁移自网球势能逻辑、适配乒乓球规则的计算模型），并通过针对性文献调研锚定技术路径。

文献调研阶段，重点梳理了网球势能研究的诸多成果的研究思路和方法，初步锁定乒乓球势能的关键影响因素：选手实力、心理素质、热手效应等。在其中，深入研究了一篇使用 Monte Carlo Simulation 计算胜率的文章，分析其 “实时获胜概率（RTWP）→杠杆（单分影响幅度）→指数加权势能” 的核心逻辑。

模型搭建阶段，基于网球势能的量化框架，用 C++ 实现了简易的乒乓球势能计算模型：通过蒙特卡洛模拟计算每一分的实时获胜概率，进而推导杠杆值（$L_i = RTWP_{win} - RTWP_{lose}$），最终用指数加权平均（$\alpha=0.33$，同网球模型参数）计算球员 A（H）与球员 B（F）的实时势能（$M_A, M_B$）。模型可输出每一分后的势能变化，初步验证了 “得分序列驱动势能波动” 的合理性。

当前模型存在待优化方向：1）未适配乒乓球特有的发球轮换规则（网球为固定发球局，乒乓球每 2 分轮换发球，需补充发球方对得分概率的影响）；2）未纳入环境与技术细节（如回合数、球员跑动距离等）；

#### 20251006 研究日志

模型复杂化：1. 考虑发球对于势能的影响 2. 考虑发球、前三板技术对势能的影响 3. 考虑暂停、下一局对势能的影响

考虑 3：

![image-20251006100339924](E:\课题研究\研究日志.assets\image-20251006100339924.png)

![image-20251006100646400](E:\课题研究\研究日志.assets\image-20251006100646400.png)

运行两次，可见两者给出的结果几乎一样。

主题：加入更多影响因素，使模型更加拟合现实

内容：首先，完成了仅基于球员基础实力的预测模型搭建，经测试验证，该模型已能初步拟合现实比赛的基本规律。接着，修正了原模型在模拟过程中未将 “势能动态变化” 纳入考量的缺陷；不过当前实现代码的可维护性欠佳，后续需开展架构重构以提升扩展性。随后，进一步引入球员心理素质、临场发挥状态等多维特征，结合基础实力综合计算球员的 `elo_rating`，使模型对比赛进程的模拟更贴近真实场景。下一步，计划继续融入发球轮次、局点 / 赛点等关键赛制因素对 `elo_rating` 的影响，并通过设置合理阈值，辅助教练员和运动员判断比赛暂停的最佳时机。

问题：

有这样一条明显不合理的记录：

![image-20251006202532861](E:\课题研究\markdown\研究日志.assets\image-20251006202532861.png)